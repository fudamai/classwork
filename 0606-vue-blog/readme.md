# Vue-blog

## 项目入口

[工程目录入口](./blog)

- 在终端进入目录
- 使用命令```npm install```安装依赖环境
  - 如果使用```npm```命令安装失败，建议使用```cnpm```
- 使用命令 ```npm run serve``` 启动

## 需求满足

- 侧边栏组件，应用于主页和详情页
- 允许新建博客。新建博客时，允许添加自定义标签
- 在侧边栏通过自定义的标签，筛选出带有指定标签的博客
- 添加注册功能，在 mock 中保存注册信息，在前端判断注册信息是否符合规范。
  - 用户注册信息没有保存为文件，在内存中以列表形式保存。刷新页面，注册信息从内存中丢弃。
  - 内存中保存有测试用户，登录页面有提示。
- 在侧边栏筛选框添加“全部文章”按钮，点击按钮显示全部文章

## 功能逻辑

### 新建博客

为了实现将新添加博客，显示在主页的第一顺位。在mock中操作时，往已有博客列表中添加新博客，使用 unshift 方法，新博客添加至列表的第一顺位。

---

### 标签

**出现位置**

- 在已添加博客（详情页）中  
标签的HTML代码使用 Element UI 实现
- 在侧边栏中  
为实现点击标签后筛选除带指定标签的博客，使用原生HTML代码中的 button
- 新建博客时  
使用 Element UI 实现，标签可以 添加 也可 删除

标签是自定义标签。在添加标签时，为避免重复，将标签全部小写化后保存。

侧边栏标签筛选框中的标签单独设一变量在 store 中。保存博客时，博客对象保存自身的标签，同时将保存至另一个保存全部标签的文件。

在 mock 中设置一个保存标签的函数，在保存博客时，单独保存一份标签。

标签长度限制在20个字符以内，长度限制在HTML代码中使用 `input` 标签的maxlength 属性实现。

---

### 登录

将用户的登录信息发送到后台，在后台进行身份验证。

验证成功，返回一个 token 。在store 中将 token、登录用户名、登录时间，保存到一个对象中，并保存到本地。用于自动登陆时信息验证。

验证失败，返回失败原因。原因：  

- 用户名不存在
- 用户信息不匹配

---

### 注册

- 前端  
判断注册信息是否符合规范
- 后端  
判断用户名是否重复

---

## 遇到的难点

mock 返回（return）数据时，需打包成 对象（object）

将 侧边栏组件 绑定到 App.vue 组件。在从新建页 跳转到 主页 时，Vue 没有重载 App.vue 组件，导致设置在 侧边栏组件 create 选项下的,获取全部标签的函数没有执行。标签筛选框下的标签没有更新。  
此现象在将 侧边栏组件 绑定到 主页组件（Home.vue）后解决

计算属性能用于指令，但不能带引号。

使用 `form` 元素标签包裹一个表单，在表单内的输入框使用 enter 键，触发一次提交事件。将 `form` 替换成 `div` ，使用 enter 不会不会触发提交事件。
